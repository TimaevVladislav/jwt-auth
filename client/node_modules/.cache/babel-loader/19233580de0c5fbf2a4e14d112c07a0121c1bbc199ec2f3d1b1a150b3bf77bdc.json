{"ast":null,"code":"import { createApi, fetchBaseQuery, setupListeners } from \"@reduxjs/toolkit/query/react\";\nimport { store } from \"../store\";\nexport const instagramApi = createApi({\n  reducerPath: \"instagram.api\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"https://graph.instagram.com/\"\n  }),\n  refetchOnFocus: true,\n  endpoints: build => ({\n    refreshToken: build.query({\n      query: token => ({\n        url: `refresh_access_token?grant_type=ig_refresh_token&access_token= ${token}`\n      }),\n      transformResponse: response => response.items\n    }),\n    getProfileMedia: build.query({\n      query: token => ({\n        url: `me/media?fields=id,media_type,media_url,caption,timestamp,thumbnail_url,permalink&access_token= ${token}`\n      }),\n      transformResponse: response => response.data\n    })\n  })\n});\nsetupListeners(store.dispatch);\nexport const {\n  useGetProfileMediaQuery,\n  useLazyRefreshTokenQuery\n} = instagramApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","setupListeners","store","instagramApi","reducerPath","baseQuery","baseUrl","refetchOnFocus","endpoints","build","refreshToken","query","token","url","transformResponse","response","items","getProfileMedia","data","dispatch","useGetProfileMediaQuery","useLazyRefreshTokenQuery"],"sources":["/home/vladislav/Desktop/Projects/victoria_travel_web/src/services/instagram.api.ts"],"sourcesContent":["import {createApi, fetchBaseQuery, setupListeners} from \"@reduxjs/toolkit/query/react\"\nimport {store} from \"../store\";\n\n\nexport const instagramApi = createApi({\n    reducerPath: \"instagram.api\",\n    baseQuery: fetchBaseQuery({\n        baseUrl: \"https://graph.instagram.com/\"\n    }),\n    refetchOnFocus: true,\n    endpoints: build => ({\n        refreshToken: build.query<[], string>({\n            query: (token: string) => ({\n                url: `refresh_access_token?grant_type=ig_refresh_token&access_token= ${token}`\n            }),\n            transformResponse: (response: any) => response.items\n        }),\n        getProfileMedia: build.query<any, any>({\n            query: (token: string) => ({\n                url: `me/media?fields=id,media_type,media_url,caption,timestamp,thumbnail_url,permalink&access_token= ${token}`\n            }),\n            transformResponse: (response: any) => response.data\n        })\n    })\n})\n\nsetupListeners(store.dispatch)\n\nexport const {useGetProfileMediaQuery, useLazyRefreshTokenQuery} = instagramApi"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,cAAc,EAAEC,cAAc,QAAO,8BAA8B;AACtF,SAAQC,KAAK,QAAO,UAAU;AAG9B,OAAO,MAAMC,YAAY,GAAGJ,SAAS,CAAC;EAClCK,WAAW,EAAE,eAAe;EAC5BC,SAAS,EAAEL,cAAc,CAAC;IACtBM,OAAO,EAAE;EACb,CAAC,CAAC;EACFC,cAAc,EAAE,IAAI;EACpBC,SAAS,EAAEC,KAAK,KAAK;IACjBC,YAAY,EAAED,KAAK,CAACE,KAAK,CAAa;MAClCA,KAAK,EAAGC,KAAa,KAAM;QACvBC,GAAG,EAAG,kEAAiED,KAAM;MACjF,CAAC,CAAC;MACFE,iBAAiB,EAAGC,QAAa,IAAKA,QAAQ,CAACC;IACnD,CAAC,CAAC;IACFC,eAAe,EAAER,KAAK,CAACE,KAAK,CAAW;MACnCA,KAAK,EAAGC,KAAa,KAAM;QACvBC,GAAG,EAAG,mGAAkGD,KAAM;MAClH,CAAC,CAAC;MACFE,iBAAiB,EAAGC,QAAa,IAAKA,QAAQ,CAACG;IACnD,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEFjB,cAAc,CAACC,KAAK,CAACiB,QAAQ,CAAC;AAE9B,OAAO,MAAM;EAACC,uBAAuB;EAAEC;AAAwB,CAAC,GAAGlB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}