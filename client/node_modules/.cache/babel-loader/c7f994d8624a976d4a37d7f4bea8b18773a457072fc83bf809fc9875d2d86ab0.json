{"ast":null,"code":"import _slicedToArray from\"/home/vladislav/Desktop/Projects/victoria_travel_web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef}from\"react\";import ReactPaginate from\"react-paginate\";import{useAppDispatch}from\"../hooks/redux\";import{fetchBlogs}from\"../store/actions/blogActions\";import{useLazyGetProfileMediaQuery}from\"../services/instagram.api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ITEMS_PER_PAGE=50;export default function BlogPage(){var page=useRef(1);var dispatch=useAppDispatch();var _useLazyGetProfileMed=useLazyGetProfileMediaQuery(),_useLazyGetProfileMed2=_slicedToArray(_useLazyGetProfileMed,2),fetchProfileBlogs=_useLazyGetProfileMed2[0],_useLazyGetProfileMed3=_useLazyGetProfileMed2[1],isLoading=_useLazyGetProfileMed3.isLoading,error=_useLazyGetProfileMed3.error,blogs=_useLazyGetProfileMed3.data;var pageCount=Math.ceil(1/ITEMS_PER_PAGE);var pageChangeHandler=function pageChangeHandler(_ref){var selected=_ref.selected;page.current=selected;};useEffect(function(){console.log(process.env.INSTAGRAM_API_TOKEN);fetchProfileBlogs(\"SWSWS\");dispatch(fetchBlogs(page.current,ITEMS_PER_PAGE));},[dispatch,page]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto max-w-[760px] pt-5\",children:[isLoading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-lg\",children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-600\",children:error.data}),/*#__PURE__*/_jsx(ReactPaginate,{breakLabel:\"...\",nextLabel:\"next >\",onPageChange:pageChangeHandler,pageRangeDisplayed:5,forcePage:page.current-1,pageCount:pageCount,previousLabel:\"< previous\",containerClassName:\"flex\",pageClassName:\"py-2 px-2 border mr-2\",previousClassName:\"py-2 px-2 border mr-2\",nextClassName:\"py-2 px-2 border mr-2\",activeClassName:\"bg-gray-500 text-white\"})]});}","map":{"version":3,"names":["React","useEffect","useRef","ReactPaginate","useAppDispatch","fetchBlogs","useLazyGetProfileMediaQuery","jsx","_jsx","jsxs","_jsxs","ITEMS_PER_PAGE","BlogPage","page","dispatch","_useLazyGetProfileMed","_useLazyGetProfileMed2","_slicedToArray","fetchProfileBlogs","_useLazyGetProfileMed3","isLoading","error","blogs","data","pageCount","Math","ceil","pageChangeHandler","_ref","selected","current","console","log","process","env","INSTAGRAM_API_TOKEN","className","children","breakLabel","nextLabel","onPageChange","pageRangeDisplayed","forcePage","previousLabel","containerClassName","pageClassName","previousClassName","nextClassName","activeClassName"],"sources":["/home/vladislav/Desktop/Projects/victoria_travel_web/src/pages/BlogPage.tsx"],"sourcesContent":["import React, {useEffect, useRef} from \"react\"\nimport ReactPaginate from \"react-paginate\"\n\nimport {useAppDispatch, useAppSelector} from \"../hooks/redux\"\nimport {fetchBlogs} from \"../store/actions/blogActions\"\nimport BlogCard from \"../components/BlogCard\"\nimport {useLazyRefreshTokenQuery, useLazyGetProfileMediaQuery} from \"../services/instagram.api\"\n\nconst ITEMS_PER_PAGE: number = 50\n\nexport default function BlogPage() {\n\n    const page = useRef(1)\n    const dispatch = useAppDispatch()\n    const [fetchProfileBlogs, {isLoading, error, data: blogs}] = useLazyGetProfileMediaQuery()\n\n\n    const pageCount = Math.ceil(1 / ITEMS_PER_PAGE)\n\n    const pageChangeHandler = ({selected}: { selected: number }) => {\n        page.current = selected\n    }\n\n    useEffect(() => {\n        console.log(process.env.INSTAGRAM_API_TOKEN)\n        fetchProfileBlogs(\"SWSWS\")\n        dispatch(fetchBlogs(page.current, ITEMS_PER_PAGE))\n    }, [dispatch, page])\n\n    return (\n        <div className=\"container mx-auto max-w-[760px] pt-5\">\n            { isLoading && <p className=\"text-center text-lg\">Loading...</p> }\n            { error && <p className=\"text-center text-red-600\">{error.data}</p> }\n\n            {/*{ blogs.map(blog => <BlogCard key={blog.id} blog={blog} />) }*/}\n\n            <ReactPaginate\n                breakLabel=\"...\"\n                nextLabel=\"next >\"\n                onPageChange={pageChangeHandler}\n                pageRangeDisplayed={5}\n                forcePage={page.current - 1}\n                pageCount={pageCount}\n                previousLabel=\"< previous\"\n                containerClassName=\"flex\"\n                pageClassName=\"py-2 px-2 border mr-2\"\n                previousClassName=\"py-2 px-2 border mr-2\"\n                nextClassName=\"py-2 px-2 border mr-2\"\n                activeClassName=\"bg-gray-500 text-white\"\n            />\n        </div>\n    )\n}"],"mappings":"0IAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,MAAM,KAAO,OAAO,CAC9C,MAAO,CAAAC,aAAa,KAAM,gBAAgB,CAE1C,OAAQC,cAAc,KAAuB,gBAAgB,CAC7D,OAAQC,UAAU,KAAO,8BAA8B,CAEvD,OAAkCC,2BAA2B,KAAO,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/F,GAAM,CAAAC,cAAsB,CAAG,EAAE,CAEjC,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CAE/B,GAAM,CAAAC,IAAI,CAAGX,MAAM,CAAC,CAAC,CAAC,CACtB,GAAM,CAAAY,QAAQ,CAAGV,cAAc,CAAC,CAAC,CACjC,IAAAW,qBAAA,CAA6DT,2BAA2B,CAAC,CAAC,CAAAU,sBAAA,CAAAC,cAAA,CAAAF,qBAAA,IAAnFG,iBAAiB,CAAAF,sBAAA,IAAAG,sBAAA,CAAAH,sBAAA,IAAGI,SAAS,CAAAD,sBAAA,CAATC,SAAS,CAAEC,KAAK,CAAAF,sBAAA,CAALE,KAAK,CAAQC,KAAK,CAAAH,sBAAA,CAAXI,IAAI,CAGjD,GAAM,CAAAC,SAAS,CAAGC,IAAI,CAACC,IAAI,CAAC,CAAC,CAAGf,cAAc,CAAC,CAE/C,GAAM,CAAAgB,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAAC,IAAA,CAAyC,IAApC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAChChB,IAAI,CAACiB,OAAO,CAAGD,QAAQ,CAC3B,CAAC,CAED5B,SAAS,CAAC,UAAM,CACZ8B,OAAO,CAACC,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,mBAAmB,CAAC,CAC5CjB,iBAAiB,CAAC,OAAO,CAAC,CAC1BJ,QAAQ,CAACT,UAAU,CAACQ,IAAI,CAACiB,OAAO,CAAEnB,cAAc,CAAC,CAAC,CACtD,CAAC,CAAE,CAACG,QAAQ,CAAED,IAAI,CAAC,CAAC,CAEpB,mBACIH,KAAA,QAAK0B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,EAC/CjB,SAAS,eAAIZ,IAAA,MAAG4B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,CAC9DhB,KAAK,eAAIb,IAAA,MAAG4B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAEhB,KAAK,CAACE,IAAI,CAAI,CAAC,cAInEf,IAAA,CAACL,aAAa,EACVmC,UAAU,CAAC,KAAK,CAChBC,SAAS,CAAC,QAAQ,CAClBC,YAAY,CAAEb,iBAAkB,CAChCc,kBAAkB,CAAE,CAAE,CACtBC,SAAS,CAAE7B,IAAI,CAACiB,OAAO,CAAG,CAAE,CAC5BN,SAAS,CAAEA,SAAU,CACrBmB,aAAa,CAAC,YAAY,CAC1BC,kBAAkB,CAAC,MAAM,CACzBC,aAAa,CAAC,uBAAuB,CACrCC,iBAAiB,CAAC,uBAAuB,CACzCC,aAAa,CAAC,uBAAuB,CACrCC,eAAe,CAAC,wBAAwB,CAC3C,CAAC,EACD,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}