{"ast":null,"code":"import _regeneratorRuntime from\"/home/vladislav/Desktop/Projects/victoria_travel_web/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vladislav/Desktop/Projects/victoria_travel_web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"../../api\";import{destinationSlice}from\"../slices/destinationSlice\";export var fetchDestinations=function fetchDestinations(){var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var count=arguments.length>1&&arguments[1]!==undefined?arguments[1]:50;return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch(destinationSlice.actions.fetching());_context.next=4;return axios.get(\"posts\");case 4:response=_context.sent;dispatch(destinationSlice.actions.fetchSuccess({destinations:response.data.posts}));_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch(destinationSlice.actions.fetchError(_context.t0));console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","destinationSlice","fetchDestinations","page","arguments","length","undefined","count","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","response","wrap","_callee$","_context","prev","next","actions","fetching","get","sent","fetchSuccess","destinations","data","posts","t0","fetchError","console","log","stop","_x","apply"],"sources":["/home/vladislav/Desktop/Projects/victoria_travel_web/src/store/actions/destinationActions.ts"],"sourcesContent":["import axios from \"../../api\"\nimport {AppDispatch} from \"../index\"\nimport {destinationSlice} from \"../slices/destinationSlice\"\n\nexport const fetchDestinations = (page = 1, count = 50) => {\n    return async (dispatch: AppDispatch) => {\n        try {\n            dispatch(destinationSlice.actions.fetching())\n            const response = await axios.get(\"posts\")\n\n            dispatch(destinationSlice.actions.fetchSuccess({destinations: response.data.posts}))\n        } catch (e) {\n            dispatch(destinationSlice.actions.fetchError(e as Error))\n            console.log(e)\n        }\n    }\n}"],"mappings":"oSAAA,MAAO,CAAAA,KAAK,KAAM,WAAW,CAE7B,OAAQC,gBAAgB,KAAO,4BAA4B,CAE3D,MAAO,IAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAA6B,IAAzB,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,KAAK,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAClD,kCAAAI,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAO,SAAAC,QAAOC,QAAqB,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAE3BL,QAAQ,CAACZ,gBAAgB,CAACmB,OAAO,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAAJ,QAAA,CAAAE,IAAA,SACtB,CAAAnB,KAAK,CAACsB,GAAG,CAAC,OAAO,CAAC,QAAnCR,QAAQ,CAAAG,QAAA,CAAAM,IAAA,CAEdV,QAAQ,CAACZ,gBAAgB,CAACmB,OAAO,CAACI,YAAY,CAAC,CAACC,YAAY,CAAEX,QAAQ,CAACY,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAAV,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAW,EAAA,CAAAX,QAAA,aAEpFJ,QAAQ,CAACZ,gBAAgB,CAACmB,OAAO,CAACS,UAAU,CAAAZ,QAAA,CAAAW,EAAW,CAAC,CAAC,CACzDE,OAAO,CAACC,GAAG,CAAAd,QAAA,CAAAW,EAAE,CAAC,0BAAAX,QAAA,CAAAe,IAAA,MAAApB,OAAA,gBAErB,mBAAAqB,EAAA,SAAAzB,IAAA,CAAA0B,KAAA,MAAA9B,SAAA,QACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}