{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import ReactPaginate from\"react-paginate\";import{useAppDispatch,useAppSelector}from\"../hooks/redux\";import{fetchDestinations}from\"../store/actions/destinationActions\";import BlogCard from\"../components/BlogCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ITEMS_PER_PAGE=50;export default function DestinationPage(){var page=useRef(1);var dispatch=useAppDispatch();var _useAppSelector=useAppSelector(function(state){return state.destination;}),error=_useAppSelector.error,loading=_useAppSelector.loading,destinations=_useAppSelector.destinations,count=_useAppSelector.count;var pageCount=Math.ceil(count/ITEMS_PER_PAGE);var pageChangeHandler=function pageChangeHandler(_ref){var selected=_ref.selected;page.current=selected;};useEffect(function(){dispatch(fetchDestinations(page.current,ITEMS_PER_PAGE));},[dispatch,page]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto max-w-[760px] pt-5\",children:[loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-lg\",children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-600\",children:error}),destinations.map(function(destination){return/*#__PURE__*/_jsx(BlogCard,{blog:destination},destination.id);}),/*#__PURE__*/_jsx(ReactPaginate,{breakLabel:\"...\",nextLabel:\"next >\",onPageChange:pageChangeHandler,pageRangeDisplayed:5,forcePage:page.current-1,pageCount:pageCount,previousLabel:\"< previous\",containerClassName:\"flex\",pageClassName:\"py-2 px-2 border mr-2\",previousClassName:\"py-2 px-2 border mr-2\",nextClassName:\"py-2 px-2 border mr-2\",activeClassName:\"bg-gray-500 text-white\"})]});}","map":{"version":3,"names":["React","useEffect","useRef","ReactPaginate","useAppDispatch","useAppSelector","fetchDestinations","BlogCard","jsx","_jsx","jsxs","_jsxs","ITEMS_PER_PAGE","DestinationPage","page","dispatch","_useAppSelector","state","destination","error","loading","destinations","count","pageCount","Math","ceil","pageChangeHandler","_ref","selected","current","className","children","map","blog","id","breakLabel","nextLabel","onPageChange","pageRangeDisplayed","forcePage","previousLabel","containerClassName","pageClassName","previousClassName","nextClassName","activeClassName"],"sources":["/home/vladislav/Desktop/Projects/victoria_travel_web/src/pages/DestinationPage.tsx"],"sourcesContent":["import React, {useEffect, useRef} from \"react\"\nimport ReactPaginate from \"react-paginate\"\n\nimport {useAppDispatch, useAppSelector} from \"../hooks/redux\"\nimport {fetchDestinations} from \"../store/actions/destinationActions\"\nimport BlogCard from \"../components/BlogCard\"\n\nconst ITEMS_PER_PAGE: number = 50\n\nexport default function DestinationPage() {\n\n    const page = useRef(1)\n    const dispatch = useAppDispatch()\n    const {error, loading, destinations, count} = useAppSelector(state => state.destination)\n\n    const pageCount = Math.ceil(count / ITEMS_PER_PAGE)\n\n    const pageChangeHandler = ({selected}: { selected: number }) => {\n        page.current = selected\n    }\n\n    useEffect(() => {\n        dispatch(fetchDestinations(page.current, ITEMS_PER_PAGE))\n    }, [dispatch, page])\n\n    return (\n        <div className=\"container mx-auto max-w-[760px] pt-5\">\n            { loading && <p className=\"text-center text-lg\">Loading...</p> }\n            { error && <p className=\"text-center text-red-600\">{error}</p> }\n\n            { destinations.map(destination => <BlogCard key={destination.id} blog={destination} />) }\n\n            <ReactPaginate\n                breakLabel=\"...\"\n                nextLabel=\"next >\"\n                onPageChange={pageChangeHandler}\n                pageRangeDisplayed={5}\n                forcePage={page.current - 1}\n                pageCount={pageCount}\n                previousLabel=\"< previous\"\n                containerClassName=\"flex\"\n                pageClassName=\"py-2 px-2 border mr-2\"\n                previousClassName=\"py-2 px-2 border mr-2\"\n                nextClassName=\"py-2 px-2 border mr-2\"\n                activeClassName=\"bg-gray-500 text-white\"\n            />\n        </div>\n    )\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,MAAM,KAAO,OAAO,CAC9C,MAAO,CAAAC,aAAa,KAAM,gBAAgB,CAE1C,OAAQC,cAAc,CAAEC,cAAc,KAAO,gBAAgB,CAC7D,OAAQC,iBAAiB,KAAO,qCAAqC,CACrE,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,GAAM,CAAAC,cAAsB,CAAG,EAAE,CAEjC,cAAe,SAAS,CAAAC,eAAeA,CAAA,CAAG,CAEtC,GAAM,CAAAC,IAAI,CAAGZ,MAAM,CAAC,CAAC,CAAC,CACtB,GAAM,CAAAa,QAAQ,CAAGX,cAAc,CAAC,CAAC,CACjC,IAAAY,eAAA,CAA8CX,cAAc,CAAC,SAAAY,KAAK,QAAI,CAAAA,KAAK,CAACC,WAAW,GAAC,CAAjFC,KAAK,CAAAH,eAAA,CAALG,KAAK,CAAEC,OAAO,CAAAJ,eAAA,CAAPI,OAAO,CAAEC,YAAY,CAAAL,eAAA,CAAZK,YAAY,CAAEC,KAAK,CAAAN,eAAA,CAALM,KAAK,CAE1C,GAAM,CAAAC,SAAS,CAAGC,IAAI,CAACC,IAAI,CAACH,KAAK,CAAGV,cAAc,CAAC,CAEnD,GAAM,CAAAc,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAAC,IAAA,CAAyC,IAApC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAChCd,IAAI,CAACe,OAAO,CAAGD,QAAQ,CAC3B,CAAC,CAED3B,SAAS,CAAC,UAAM,CACZc,QAAQ,CAACT,iBAAiB,CAACQ,IAAI,CAACe,OAAO,CAAEjB,cAAc,CAAC,CAAC,CAC7D,CAAC,CAAE,CAACG,QAAQ,CAAED,IAAI,CAAC,CAAC,CAEpB,mBACIH,KAAA,QAAKmB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,EAC/CX,OAAO,eAAIX,IAAA,MAAGqB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,CAC5DZ,KAAK,eAAIV,IAAA,MAAGqB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAEZ,KAAK,CAAI,CAAC,CAE5DE,YAAY,CAACW,GAAG,CAAC,SAAAd,WAAW,qBAAIT,IAAA,CAACF,QAAQ,EAAsB0B,IAAI,CAAEf,WAAY,EAAlCA,WAAW,CAACgB,EAAwB,CAAC,GAAC,cAEvFzB,IAAA,CAACN,aAAa,EACVgC,UAAU,CAAC,KAAK,CAChBC,SAAS,CAAC,QAAQ,CAClBC,YAAY,CAAEX,iBAAkB,CAChCY,kBAAkB,CAAE,CAAE,CACtBC,SAAS,CAAEzB,IAAI,CAACe,OAAO,CAAG,CAAE,CAC5BN,SAAS,CAAEA,SAAU,CACrBiB,aAAa,CAAC,YAAY,CAC1BC,kBAAkB,CAAC,MAAM,CACzBC,aAAa,CAAC,uBAAuB,CACrCC,iBAAiB,CAAC,uBAAuB,CACzCC,aAAa,CAAC,uBAAuB,CACrCC,eAAe,CAAC,wBAAwB,CAC3C,CAAC,EACD,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}