{"ast":null,"code":"import _regeneratorRuntime from\"/home/vladislav/Desktop/Projects/victoria_travel_web/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vladislav/Desktop/Projects/victoria_travel_web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"../../api\";import{blogSlice}from\"../slices/blogSlice\";export var fetchBlogs=function fetchBlogs(){var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var count=arguments.length>1&&arguments[1]!==undefined?arguments[1]:50;return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch(blogSlice.actions.fetching());_context.next=4;return axios.get(\"products\",{params:{page:page,count:count}});case 4:response=_context.sent;dispatch(blogSlice.actions.fetchSuccess({blogs:response.data.products}));_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch(blogSlice.actions.fetchError(_context.t0));console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","blogSlice","fetchBlogs","page","arguments","length","undefined","count","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","response","wrap","_callee$","_context","prev","next","actions","fetching","get","params","sent","fetchSuccess","blogs","data","products","t0","fetchError","console","log","stop","_x","apply"],"sources":["/home/vladislav/Desktop/Projects/victoria_travel_web/src/store/actions/blogActions.ts"],"sourcesContent":["import axios from \"../../api\"\nimport {AppDispatch} from \"../index\"\nimport {blogSlice} from \"../slices/blogSlice\"\n\nexport const fetchBlogs = (page = 1, count = 50) => {\n    return async (dispatch: AppDispatch) => {\n        try {\n            dispatch(blogSlice.actions.fetching())\n            const response = await axios.get(\"products\", {params: { page, count }})\n\n            dispatch(blogSlice.actions.fetchSuccess({blogs: response.data.products}))\n        } catch (e) {\n            dispatch(blogSlice.actions.fetchError(e as Error))\n            console.log(e)\n        }\n    }\n}"],"mappings":"oSAAA,MAAO,CAAAA,KAAK,KAAM,WAAW,CAE7B,OAAQC,SAAS,KAAO,qBAAqB,CAE7C,MAAO,IAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAA6B,IAAzB,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,KAAK,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC3C,kCAAAI,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAO,SAAAC,QAAOC,QAAqB,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAE3BL,QAAQ,CAACZ,SAAS,CAACmB,OAAO,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAAJ,QAAA,CAAAE,IAAA,SACf,CAAAnB,KAAK,CAACsB,GAAG,CAAC,UAAU,CAAE,CAACC,MAAM,CAAE,CAAEpB,IAAI,CAAJA,IAAI,CAAEI,KAAK,CAALA,KAAM,CAAC,CAAC,CAAC,QAAjEO,QAAQ,CAAAG,QAAA,CAAAO,IAAA,CAEdX,QAAQ,CAACZ,SAAS,CAACmB,OAAO,CAACK,YAAY,CAAC,CAACC,KAAK,CAAEZ,QAAQ,CAACa,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAAX,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aAEzEJ,QAAQ,CAACZ,SAAS,CAACmB,OAAO,CAACU,UAAU,CAAAb,QAAA,CAAAY,EAAW,CAAC,CAAC,CAClDE,OAAO,CAACC,GAAG,CAAAf,QAAA,CAAAY,EAAE,CAAC,0BAAAZ,QAAA,CAAAgB,IAAA,MAAArB,OAAA,gBAErB,mBAAAsB,EAAA,SAAA1B,IAAA,CAAA2B,KAAA,MAAA/B,SAAA,QACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}